import{b3 as A,q as B,s as S,a4 as ne,a3 as oe,y as F,b4 as ae,r as E,Q as b,U as $,Y as I,ac as z,d,e as u,h as T,C as P,N as G,as as q,at as U,G as se,H as ie,K as J,b5 as le,a9 as re,X as ce,ao as ue,m as k,b6 as de,F as ve,W as X,L as me,b7 as fe,b8 as he,b9 as ge,O as ye,M as be,ba as _e,bb as we,an as xe,j as Y,bc as Ce,c as Ve,o as N,w,f as D,p as V,t as C,az as Ie,l as Te,R as ke,aO as Be,ax as Se}from"./index-KC8Fu95-.js";import{u as Pe}from"./ssrBoot-CCrmWCSd.js";import{_ as De}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as Ee}from"./VChip-PMzwQLBL.js";const $e=e=>{const{touchstartX:n,touchendX:t,touchstartY:o,touchendY:i}=e,r=.5,a=16;e.offsetX=t-n,e.offsetY=i-o,Math.abs(e.offsetY)<r*Math.abs(e.offsetX)&&(e.left&&t<n-a&&e.left(e),e.right&&t>n+a&&e.right(e)),Math.abs(e.offsetX)<r*Math.abs(e.offsetY)&&(e.up&&i<o-a&&e.up(e),e.down&&i>o+a&&e.down(e))};function Xe(e,n){var o;const t=e.changedTouches[0];n.touchstartX=t.clientX,n.touchstartY=t.clientY,(o=n.start)==null||o.call(n,{originalEvent:e,...n})}function Ye(e,n){var o;const t=e.changedTouches[0];n.touchendX=t.clientX,n.touchendY=t.clientY,(o=n.end)==null||o.call(n,{originalEvent:e,...n}),$e(n)}function Re(e,n){var o;const t=e.changedTouches[0];n.touchmoveX=t.clientX,n.touchmoveY=t.clientY,(o=n.move)==null||o.call(n,{originalEvent:e,...n})}function He(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:t=>Xe(t,n),touchend:t=>Ye(t,n),touchmove:t=>Re(t,n)}}function We(e,n){var v;const t=n.value,o=t!=null&&t.parent?e.parentElement:e,i=(t==null?void 0:t.options)??{passive:!0},r=(v=n.instance)==null?void 0:v.$.uid;if(!o||!r)return;const a=He(n.value);o._touchHandlers=o._touchHandlers??Object.create(null),o._touchHandlers[r]=a,A(a).forEach(c=>{o.addEventListener(c,a[c],i)})}function Le(e,n){var r,a;const t=(r=n.value)!=null&&r.parent?e.parentElement:e,o=(a=n.instance)==null?void 0:a.$.uid;if(!(t!=null&&t._touchHandlers)||!o)return;const i=t._touchHandlers[o];A(i).forEach(v=>{t.removeEventListener(v,i[v])}),delete t._touchHandlers[o]}const R={mounted:We,unmounted:Le},K=Symbol.for("vuetify:v-window"),Q=Symbol.for("vuetify:v-window-group"),Z=S({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...J(),...ie(),...se()},"VWindow"),O=B()({name:"VWindow",directives:{vTouch:R},props:Z(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const{themeClasses:o}=ne(e),{isRtl:i}=oe(),{t:r}=F(),a=ae(e,Q),v=E(),c=b(()=>i.value?!e.reverse:e.reverse),s=$(!1),l=b(()=>{const h=e.direction==="vertical"?"y":"x",_=(c.value?!s.value:s.value)?"-reverse":"";return`v-window-${h}${_}-transition`}),m=$(0),y=E(void 0),x=b(()=>a.items.value.findIndex(h=>a.selected.value.includes(h.id)));I(x,(h,g)=>{const _=a.items.value.length,M=_-1;_<=2?s.value=h<g:h===M&&g===0?s.value=!0:h===0&&g===M?s.value=!1:s.value=h<g}),le(K,{transition:l,isReversed:s,transitionCount:m,transitionHeight:y,rootRef:v});const f=z(()=>e.continuous||x.value!==0),H=z(()=>e.continuous||x.value!==a.items.value.length-1);function W(){f.value&&a.prev()}function L(){H.value&&a.next()}const ee=b(()=>{const h=[],g={icon:i.value?e.nextIcon:e.prevIcon,class:`v-window__${c.value?"right":"left"}`,onClick:a.prev,"aria-label":r("$vuetify.carousel.prev")};h.push(f.value?t.prev?t.prev({props:g}):d(T,g,null):u("div",null,null));const _={icon:i.value?e.prevIcon:e.nextIcon,class:`v-window__${c.value?"left":"right"}`,onClick:a.next,"aria-label":r("$vuetify.carousel.next")};return h.push(H.value?t.next?t.next({props:_}):d(T,_,null):u("div",null,null)),h}),te=b(()=>e.touch===!1?e.touch:{...{left:()=>{c.value?W():L()},right:()=>{c.value?L():W()},start:g=>{let{originalEvent:_}=g;_.stopPropagation()}},...e.touch===!0?{}:e.touch});return P(()=>G(d(e.tag,{ref:v,class:U(["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},o.value,e.class]),style:q(e.style)},{default:()=>{var h,g;return[u("div",{class:"v-window__container",style:{height:y.value}},[(h=t.default)==null?void 0:h.call(t,{group:a}),e.showArrows!==!1&&u("div",{class:"v-window__controls"},[ee.value])]),(g=t.additional)==null?void 0:g.call(t,{group:a})]}}),[[R,te.value]])),{group:a}}}),Me=S({color:String,cycle:Boolean,delimiterIcon:{type:me,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:e=>Number(e)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...Z({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),at=B()({name:"VCarousel",props:Me(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const o=re(e,"modelValue"),{t:i}=F(),r=E();let a=-1;I(o,c),I(()=>e.interval,c),I(()=>e.cycle,s=>{s?c():window.clearTimeout(a)}),ce(v);function v(){!e.cycle||!r.value||(a=window.setTimeout(r.value.group.next,Number(e.interval)>0?Number(e.interval):6e3))}function c(){window.clearTimeout(a),window.requestAnimationFrame(v)}return P(()=>{const s=O.filterProps(e);return d(O,k({ref:r},s,{modelValue:o.value,"onUpdate:modelValue":l=>o.value=l,class:["v-carousel",{"v-carousel--hide-delimiter-background":e.hideDelimiterBackground,"v-carousel--vertical-delimiters":e.verticalDelimiters},e.class],style:[{height:X(e.height)},e.style]}),{default:t.default,additional:l=>{let{group:m}=l;return u(ve,null,[!e.hideDelimiters&&u("div",{class:"v-carousel__controls",style:{left:e.verticalDelimiters==="left"&&e.verticalDelimiters?0:"auto",right:e.verticalDelimiters==="right"?0:"auto"}},[m.items.value.length>0&&d(ue,{defaults:{VBtn:{color:e.color,icon:e.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[m.items.value.map((y,x)=>{const f={id:`carousel-item-${y.id}`,"aria-label":i("$vuetify.carousel.ariaLabel.delimiter",x+1,m.items.value.length),class:["v-carousel__controls__item",m.isSelected(y.id)&&"v-btn--active"],onClick:()=>m.select(y.id,!0)};return t.item?t.item({props:f,item:y}):d(T,k(y,f),null)})]})]),e.progress&&d(de,{absolute:!0,class:"v-carousel__progress",color:typeof e.progress=="string"?e.progress:void 0,modelValue:(m.getItemIndex(o.value)+1)/m.items.value.length*100},null)])},prev:t.prev,next:t.next})}),{}}}),p=S({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...J(),...we(),..._e()},"VWindowItem"),j=B()({name:"VWindowItem",directives:{vTouch:R},props:p(),emits:{"group:selected":e=>!0},setup(e,n){let{slots:t}=n;const o=fe(K),i=he(e,Q),{isBooted:r}=Pe();if(!o||!i)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const a=$(!1),v=b(()=>r.value&&(o.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function c(){!a.value||!o||(a.value=!1,o.transitionCount.value>0&&(o.transitionCount.value-=1,o.transitionCount.value===0&&(o.transitionHeight.value=void 0)))}function s(){var f;a.value||!o||(a.value=!0,o.transitionCount.value===0&&(o.transitionHeight.value=X((f=o.rootRef.value)==null?void 0:f.clientHeight)),o.transitionCount.value+=1)}function l(){c()}function m(f){a.value&&xe(()=>{!v.value||!a.value||!o||(o.transitionHeight.value=X(f.clientHeight))})}const y=b(()=>{const f=o.isReversed.value?e.reverseTransition:e.transition;return v.value?{name:typeof f!="string"?o.transition.value:f,onBeforeEnter:s,onAfterEnter:c,onEnterCancelled:l,onBeforeLeave:s,onAfterLeave:c,onLeaveCancelled:l,onEnter:m}:!1}),{hasContent:x}=ge(e,i.isSelected);return P(()=>d(be,{transition:y.value,disabled:!r.value},{default:()=>{var f;return[G(u("div",{class:U(["v-window-item",i.selectedClass.value,e.class]),style:q(e.style)},[x.value&&((f=t.default)==null?void 0:f.call(t))]),[[ye,i.isSelected.value]])]}})),{groupItem:i}}}),ze=S({...Ce(),...p()},"VCarouselItem"),st=B()({name:"VCarouselItem",inheritAttrs:!1,props:ze(),setup(e,n){let{slots:t,attrs:o}=n;P(()=>{const i=Y.filterProps(e),r=j.filterProps(e);return d(j,k({class:["v-carousel-item",e.class]},r),{default:()=>[d(Y,k(o,i),t)]})})}}),Ne={class:"image-container"},Oe={class:"image-overlay"},je={class:"category-badge"},Ae={class:"date-badge"},Fe={class:"date-content"},Ge={class:"date-month"},qe={class:"date-day"},Ue={class:"text-h6 font-weight-bold mb-3 text-primary-darken-1"},Je={class:"description-text text-body-2 text-medium-emphasis"},Ke={class:"card-footer mt-8"},Qe={key:0,class:"image-count"},Ze={class:"text-caption text-grey-lighten-1 ml-1"},pe={__name:"DiaryCard",props:{diary:{type:Object,required:!0}},emits:["click"],setup(e){const n=e,t=b(()=>n.diary.image&&n.diary.image.length>0?n.diary.image[0]:"/placeholder-image.jpg"),o=b(()=>{const s=n.diary.description||"";if(s.length>120){const l=s.slice(0,120),m=l.lastIndexOf(`
`);return m>100?s.slice(0,Math.max(0,m))+"...":l+"..."}return s}),i=b(()=>n.diary.title?typeof n.diary.title=="object"?JSON.stringify(n.diary.title):n.diary.title:"無標題"),r=s=>({快樂:"orange",難過:"blue",生氣:"red",平靜:"green"})[s]||"primary",a=s=>({快樂:"mdi-emoticon-happy",難過:"mdi-emoticon-sad",生氣:"mdi-emoticon-angry",平靜:"mdi-emoticon-neutral"})[s]||"mdi-heart",v=s=>s?new Date(s).getDate():"",c=s=>s?new Date(s).toLocaleDateString("zh-TW",{month:"short"}):"";return(s,l)=>(N(),Ve(Se,{class:"diary-card",elevation:"0",rounded:"xl",onClick:l[1]||(l[1]=m=>s.$emit("click"))},{default:w(()=>[u("div",Ne,[d(Y,{"aspect-ratio":16/9,class:"diary-image",cover:"",height:"240",src:t.value},{default:w(()=>[u("div",Oe,[u("div",je,[d(Ee,{class:"text-white font-weight-medium",color:r(e.diary.category),rounded:"pill",size:"small",variant:"flat"},{default:w(()=>[d(D,{class:"",size:"25"},{default:w(()=>[V(C(a(e.diary.category)),1)]),_:1})]),_:1},8,["color"])]),u("div",Ae,[u("div",Fe,[u("div",Ge,C(c(e.diary.date)),1),u("div",qe,C(v(e.diary.date)),1)])])])]),_:1},8,["src"])]),d(Ie,{class:"pa-6"},{default:w(()=>[u("h3",Ue,C(i.value),1),u("p",Je,C(o.value),1),u("div",Ke,[e.diary.image&&e.diary.image.length>0?(N(),Te("div",Qe,[d(D,{color:"grey-lighten-1",size:"18"},{default:w(()=>[V(C(e.diary.image.length>1?"mdi-image-multiple":"mdi-image"),1)]),_:1}),u("span",Ze,C(e.diary.image.length)+" 張照片 ",1)])):ke("",!0),d(T,{class:"view-btn",color:"primary",rounded:"pill",variant:"tonal",onClick:l[0]||(l[0]=Be(m=>s.$emit("click"),["stop"]))},{default:w(()=>[l[3]||(l[3]=V(" 查看詳情 ")),d(D,{class:"ml-1",end:"",size:"16"},{default:w(()=>l[2]||(l[2]=[V("mdi-arrow-right")])),_:1,__:[2]})]),_:1,__:[3]})])]),_:1})]),_:1}))}},it=De(pe,[["__scopeId","data-v-9239cf08"]]);export{it as D,at as V,st as a};
