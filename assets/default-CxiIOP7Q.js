import{q as P,s as T,v as A,x as R,y as $,z as E,A as D,B as F,C as J,D as M,d as r,m as _,E as p,G as X,H as Y,I as q,J as z,K as G,L as H,e as S,M as K,N as O,O as Q,f as U,u as W,P as j,Q as Z,l as b,w as i,F as v,a as ee,b as te,o as s,c as u,R as k,p as h,n as oe,h as I,t as ae,k as C,S as ne}from"./index-8XkL9mke.js";import{V as se,b as re,a as le}from"./VMain-B6w0qpjx.js";import{V as ie}from"./VContainer-3X4AzbHd.js";import"./VToolbar-1RHUd_Qj.js";import"./ssrBoot-H2_3cXLE.js";const ue=T({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:H,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...G(),...z({location:"top end"}),...q(),...Y(),...X(),...p({transition:"scale-rotate-transition"})},"VBadge"),ce=P()({name:"VBadge",inheritAttrs:!1,props:ue(),setup(e,t){const{backgroundColorClasses:c,backgroundColorStyles:d}=A(()=>e.color),{roundedClasses:g}=R(e),{t:m}=$(),{textColorClasses:l,textColorStyles:a}=E(()=>e.textColor),{themeClasses:f}=D(),{locationStyles:o}=F(e,!0,n=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(n)?Number(e.offsetY??0):["left","right"].includes(n)?Number(e.offsetX??0):0));return J(()=>{const n=Number(e.content),w=!e.max||isNaN(n)?e.content:n<=Number(e.max)?n:`${e.max}+`,[x,L]=M(t.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return r(e.tag,_({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},L,{style:e.style}),{default:()=>{var y,V;return[S("div",{class:"v-badge__wrapper"},[(V=(y=t.slots).default)==null?void 0:V.call(y),r(K,{transition:e.transition},{default:()=>{var B,N;return[O(S("span",_({class:["v-badge__badge",f.value,c.value,g.value,l.value],style:[d.value,a.value,e.inline?{}:o.value],"aria-atomic":"true","aria-label":m(e.label,n),"aria-live":"polite",role:"status"},x),[e.dot?void 0:t.slots.badge?(N=(B=t.slots).badge)==null?void 0:N.call(B):e.icon?r(U,{icon:e.icon},null):w]),[[Q,e.modelValue]])]}})])]}})}),{}}}),ve={__name:"default",setup(e){const t=W(),c=j(),d=ee(),g=Z(()=>[{title:"首頁",to:"/",icon:"mdi-home",show:!0},{title:"餐廳",to:"/restaurant",icon:"mdi-silverware-fork-knife",show:!0},{title:"口袋名單",to:"/favorite",icon:"mdi-heart",show:t.isLoggedIn},{title:"健康新聞",to:"/hpanews",icon:"mdi-newspaper-variant-outline",show:!0},{title:"營養管理",to:"/nutrition",icon:"mdi-nutrition",show:t.isLoggedIn},{title:"日記牆",to:"/diary",icon:"mdi-robot-love-outline",show:t.isLoggedIn},{title:"關於JIANICE",to:"/about",icon:"mdi-account-box-outline",show:!0},{title:"註冊/登入",to:"/login",icon:"mdi-login",show:!t.isLoggedIn},{title:"管理者後台",to:"/admin",icon:"mdi-cog",show:t.isLoggedIn&&t.isAdmin},{title:"健康天地",to:"/user",icon:"mdi-heart-cog-outline",show:t.isLoggedIn}]),m=async()=>{try{await ne.logout()}catch(l){console.error(l)}t.logout(),d.push("/"),c({text:"登出成功！",snackbarProps:{color:"green"}})};return(l,a)=>{const f=te("router-view");return s(),b(v,null,[r(se,{color:"#36652A"},{default:i(()=>[r(ie,{class:"d-flex align-center"},{default:i(()=>[r(le,{class:"cursor-pointer",onClick:a[0]||(a[0]=o=>l.$router.push("/"))},{default:i(()=>a[1]||(a[1]=[h("JIANICE")])),_:1,__:[1]}),(s(!0),b(v,null,oe(g.value,o=>(s(),b(v,{key:o.to},[o.show?(s(),u(I,{key:0,"prepend-icon":o.icon,to:o.to},{default:i(()=>[h(ae(o.title)+" ",1),o.to==="/cart"&&C(t).cartTotal>0?(s(),u(ce,{key:0,color:"red",content:C(t).cartTotal,floating:""},null,8,["content"])):k("",!0)]),_:2},1032,["prepend-icon","to"])):k("",!0)],64))),128)),C(t).isLoggedIn?(s(),u(I,{key:0,"prepend-icon":"mdi-logout",onClick:m},{default:i(()=>a[2]||(a[2]=[h("登出")])),_:1,__:[2]})):k("",!0)]),_:1})]),_:1}),r(re,null,{default:i(()=>[(s(),u(f,{key:l.$route.fullPath}))]),_:1})],64)}}};export{ve as default};
