import{r as x,c as R,o as p,w as n,e as l,d as i,j as Y,h as S,aN as P,az as A,l as b,R as _,t as c,f as r,aO as I,p as u,aP as F,ax as B,ay as D,F as M,n as U,P as H,Q as E,Y as J,aM as K,aS as W,m as X,an as Z}from"./index-BpE4l8E1.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as j}from"./VAlert-p_zhegBO.js";import{V as ie,d as te,a as le}from"./VList-BgSJE9SD.js";import{r as G}from"./restaurant-BHFnGiqr.js";import{b as q}from"./route-block-B_A1xBdJ.js";import{V as ne}from"./VChip-DQVUrN2V.js";import{V as se,a as de}from"./VRow-CssBu1oD.js";import{V as oe}from"./VPagination-CG2SNP2q.js";import{V as ae}from"./VContainer-Bp0PKZ_j.js";import"./ssrBoot-DLccWrPe.js";import"./VDivider-BcHjN56j.js";const ce={class:"position-relative"},re={style:{position:"absolute",top:"8px",right:"8px","z-index":"10"}},ue={class:"text-h6 font-weight-semibold text-grey-darken-1 mb-4 text-truncate"},me={class:"d-flex align-start mb-3"},pe={class:"text-body-2 text-grey-darken-2 text-truncate"},fe={key:0,class:"d-flex align-start mb-3"},ve={class:"text-body-2 text-grey-darken-2 text-truncate"},ge={key:1,class:"d-flex align-start mb-3"},ye={class:"text-body-2 text-grey-darken-2 text-truncate"},be={class:"d-flex align-start mb-3"},xe={class:"text-body-2 text-grey-darken-2 text-truncate"},he={class:"d-flex align-start mb-5"},ke={class:"text-body-1 text-grey-darken-2"},we={key:0,class:"d-flex align-start mb-5"},_e={class:"text-body-1 text-grey-darken-2"},Ve={key:1,class:"d-flex align-start mb-5"},Ce={class:"text-body-1 text-grey-darken-2"},$e={class:"d-flex align-start"},Se={class:"text-body-1 text-grey-darken-2"},Ne={key:2,class:"d-flex align-start mb-5"},Te={class:"text-body-1 text-grey-darken-2"},Re="https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=400&h=200&fit=crop",ze={__name:"RestaurantCard",props:{restid:String,name:String,address:String,phone:String,mobile:String,latitude:String,longitude:String,city:String},setup(d){const v=d,f=x(!1),g=x(!1),h=()=>{console.log("加入收藏:",v.name)},m=()=>{g.value=!0},k=()=>{if(v.latitude&&v.longitude){const e=`https://www.google.com/maps?q=${v.latitude},${v.longitude}`;window.open(e,"_blank")}else if(v.address){const t=`https://www.google.com/maps/search/${encodeURIComponent(`${v.name} ${v.address}`)}`;window.open(t,"_blank")}else{const t=`https://www.google.com/maps/search/${encodeURIComponent(v.name)}`;window.open(t,"_blank")}},w=()=>{const e=v.name.toLowerCase();return e.includes("台菜")||e.includes("台式")||e.includes("台灣")||e.includes("滷肉飯")||e.includes("牛肉麵")||e.includes("小籠包")||e.includes("珍珠奶茶")||e.includes("臭豆腐")||e.includes("蚵仔煎")||e.includes("肉圓")||e.includes("雞排")||e.includes("鹽酥雞")||e.includes("滷味")||e.includes("麵線")||e.includes("肉粽")||e.includes("燒餅")||e.includes("油條")||e.includes("豆漿")?"台式料理":e.includes("壽司")||e.includes("拉麵")||e.includes("天婦羅")||e.includes("生魚片")||e.includes("刺身")||e.includes("丼飯")||e.includes("烏龍麵")||e.includes("蕎麥麵")||e.includes("味噌湯")||e.includes("日式")||e.includes("日本")||e.includes("和食")||e.includes("居酒屋")||e.includes("燒肉")||e.includes("炸豬排")||e.includes("咖哩")||e.includes("茶泡飯")||e.includes("飯糰")?"日式料理":e.includes("韓式")||e.includes("韓國")||e.includes("泡菜")||e.includes("烤肉")||e.includes("石鍋拌飯")||e.includes("韓式炸雞")||e.includes("部隊鍋")||e.includes("辣炒年糕")||e.includes("海鮮煎餅")||e.includes("韓式燒肉")||e.includes("韓式料理")||e.includes("韓食")?"韓式料理":e.includes("義式")||e.includes("義大利")||e.includes("義大利麵")||e.includes("披薩")||e.includes("pizza")||e.includes("pasta")||e.includes("義大利餐廳")||e.includes("義式餐廳")||e.includes("義大利料理")||e.includes("燉飯")||e.includes("risotto")||e.includes("提拉米蘇")||e.includes("義式咖啡")||e.includes("義式冰淇淋")?"義式料理":e.includes("美式")||e.includes("美國")||e.includes("漢堡")||e.includes("burger")||e.includes("hot dog")||e.includes("熱狗")||e.includes("牛排")||e.includes("steak")||e.includes("美式餐廳")||e.includes("美式料理")||e.includes("炸雞")||e.includes("fried chicken")||e.includes("薯條")||e.includes("fries")||e.includes("美式早餐")||e.includes("pancake")||e.includes("鬆餅")||e.includes("waffle")||e.includes("華夫餅")?"美式料理":e.includes("中式")||e.includes("中國")||e.includes("川菜")||e.includes("粵菜")||e.includes("湘菜")||e.includes("魯菜")||e.includes("蘇菜")||e.includes("浙菜")||e.includes("閩菜")||e.includes("徽菜")||e.includes("火鍋")||e.includes("麻辣")||e.includes("小炒")||e.includes("炒菜")||e.includes("蒸菜")||e.includes("燒烤")||e.includes("烤鴨")||e.includes("餃子")||e.includes("包子")||e.includes("饅頭")||e.includes("麵條")?"中式料理":e.includes("泰式")||e.includes("泰國")||e.includes("泰式料理")||e.includes("泰式餐廳")||e.includes("冬陰功")||e.includes("tom yum")||e.includes("泰式炒河粉")||e.includes("pad thai")||e.includes("泰式咖哩")||e.includes("泰式奶茶")||e.includes("泰式甜點")||e.includes("泰式沙拉")?"泰式料理":e.includes("越式")||e.includes("越南")||e.includes("越南河粉")||e.includes("pho")||e.includes("越式春捲")||e.includes("越式咖啡")||e.includes("越式料理")||e.includes("越式餐廳")?"越式料理":e.includes("蔬食")||e.includes("素食")||e.includes("素食餐廳")||e.includes("蔬食餐廳")||e.includes("vegan")||e.includes("vegetarian")||e.includes("有機")||e.includes("健康")||e.includes("養生")||e.includes("輕食")||e.includes("沙拉")||e.includes("salad")?"蔬食料理":e.includes("飲料")||e.includes("茶飲")||e.includes("手搖飲")||e.includes("奶茶")||e.includes("咖啡")||e.includes("coffee")||e.includes("tea")||e.includes("果汁")||e.includes("juice")||e.includes("冰沙")||e.includes("smoothie")||e.includes("飲品")?"飲料店":e.includes("早餐")||e.includes("早午餐")||e.includes("brunch")||e.includes("蛋餅")||e.includes("三明治")||e.includes("sandwich")||e.includes("吐司")||e.includes("toast")||e.includes("蛋包飯")||e.includes("早餐店")||e.includes("早午餐店")?"早餐店":e.includes("甜點")||e.includes("蛋糕")||e.includes("cake")||e.includes("餅乾")||e.includes("cookie")||e.includes("冰淇淋")||e.includes("ice cream")||e.includes("布丁")||e.includes("pudding")||e.includes("泡芙")||e.includes("馬卡龍")||e.includes("macaron")||e.includes("甜點店")||e.includes("蛋糕店")?"甜點店":e.includes("火鍋")||e.includes("hot pot")||e.includes("麻辣鍋")||e.includes("涮涮鍋")||e.includes("小火鍋")||e.includes("火鍋店")?"火鍋店":e.includes("燒烤")||e.includes("烤肉")||e.includes("bbq")||e.includes("燒肉")||e.includes("烤鴨")||e.includes("燒烤店")?"燒烤店":e.includes("麵")||e.includes("麵食")||e.includes("麵店")||e.includes("拉麵")||e.includes("烏龍麵")||e.includes("蕎麥麵")||e.includes("義大利麵")||e.includes("pasta")||e.includes("麵條")?"麵食店":e.includes("飯")||e.includes("便當")||e.includes("盒飯")||e.includes("丼飯")||e.includes("燉飯")||e.includes("炒飯")||e.includes("飯店")||e.includes("便當店")?"飯食店":"一般餐廳"},C=()=>{const e=w();return{台式料理:"台式料理通常較為油膩，建議選擇清蒸或水煮的菜色，並注意控制份量。",日式料理:"日式料理相對健康，建議選擇生魚片、蒸蛋等低熱量選項，避免過多天婦羅。",韓式料理:"韓式料理的泡菜富含益生菌，但注意烤肉和炸雞的熱量，建議搭配大量蔬菜。",義式料理:"義式料理的麵食熱量較高，建議搭配大量蔬菜，並選擇番茄醬而非奶油醬。",美式料理:"美式料理份量較大且熱量高，建議與朋友分享，並選擇烤製而非油炸的選項。",中式料理:"中式料理多樣化，建議選擇清蒸、水煮的菜色，避免過多油炸和重口味調味。",泰式料理:"泰式料理口味較重，建議選擇清湯類菜色，避免過多椰奶和重口味調味。",越式料理:"越式料理相對清淡，建議選擇生春捲、河粉等低熱量選項。",蔬食料理:"蔬食料理富含纖維和維生素，是健康的選擇，但注意調味料的用量。",飲料店:"選擇無糖或低糖飲料，避免過多熱量攝取，建議選擇茶類或果汁。",早餐店:"早餐是一天最重要的一餐，建議選擇全穀類、蛋白質和水果的組合。",甜點店:"甜點熱量較高，建議適量食用，並選擇較健康的選項如水果或優格。",火鍋店:"火鍋建議選擇清湯底，多搭配蔬菜，避免過多肉類和加工食品。",燒烤店:"燒烤食物熱量較高，建議選擇瘦肉，多搭配蔬菜，避免過多調味料。",麵食店:"麵食類建議選擇清湯麵，避免重口味的湯底和過多配料。",飯食店:"米飯類建議選擇糙米或五穀米，並控制份量，搭配大量蔬菜。",一般餐廳:"建議選擇均衡的餐點，注意控制份量和調味料的使用。"}[e]||"建議選擇均衡的餐點，注意控制份量和調味料的使用。"},z=()=>{const e=w();return{蔬食料理:"success",日式料理:"info",早餐店:"info",越式料理:"info",飲料店:"warning",甜點店:"warning",燒烤店:"warning",火鍋店:"warning"}[e]||"info"},$=()=>{const e=w();return{蔬食料理:"mdi-leaf",日式料理:"mdi-food-variant",早餐店:"mdi-coffee",飲料店:"mdi-cup-water",甜點店:"mdi-cake-variant",火鍋店:"mdi-pot-steam",燒烤店:"mdi-fire",麵食店:"mdi-food-fork-drink",飯食店:"mdi-food-rice",越式料理:"mdi-food-variant",泰式料理:"mdi-food-variant"}[e]||"mdi-food-apple"},N=()=>{const e=w();return{台式料理:[{icon:"mdi-lightbulb",title:"選擇清蒸菜色",description:"避免油炸和重口味調味"},{icon:"mdi-scale-balance",title:"控制份量",description:"台式料理份量通常較大"},{icon:"mdi-food-apple",title:"搭配蔬菜",description:"增加纖維攝取"}],日式料理:[{icon:"mdi-fish",title:"選擇生魚片",description:"低熱量且富含蛋白質"},{icon:"mdi-food-variant",title:"蒸蛋料理",description:"營養豐富且易消化"},{icon:"mdi-food-apple",title:"避免天婦羅",description:"油炸食物熱量較高"}],韓式料理:[{icon:"mdi-food-kimchi",title:"泡菜益處",description:"富含益生菌助消化"},{icon:"mdi-food-apple",title:"搭配蔬菜",description:"烤肉時多搭配生菜"},{icon:"mdi-food-chicken",title:"注意炸雞",description:"炸雞熱量較高要適量"}],義式料理:[{icon:"mdi-pasta",title:"選擇番茄醬",description:"避免奶油醬的高熱量"},{icon:"mdi-food-salad",title:"搭配沙拉",description:"增加蔬菜攝取"},{icon:"mdi-scale-balance",title:"控制麵量",description:"義大利麵熱量較高"}],美式料理:[{icon:"mdi-food-burger",title:"選擇烤製",description:"避免油炸食物"},{icon:"mdi-account-group",title:"分享餐點",description:"美式料理份量較大"},{icon:"mdi-food-salad",title:"搭配沙拉",description:"增加蔬菜攝取"}],中式料理:[{icon:"mdi-food-variant",title:"選擇清蒸",description:"避免重口味調味"},{icon:"mdi-food-apple",title:"多樣化選擇",description:"中式料理種類豐富"},{icon:"mdi-scale-balance",title:"控制份量",description:"注意熱量攝取"}],泰式料理:[{icon:"mdi-food-variant",title:"選擇清湯",description:"避免過多椰奶"},{icon:"mdi-food-apple",title:"搭配蔬菜",description:"增加纖維攝取"},{icon:"mdi-scale-balance",title:"控制調味",description:"泰式料理口味較重"}],越式料理:[{icon:"mdi-food-variant",title:"選擇生春捲",description:"低熱量且營養豐富"},{icon:"mdi-food-apple",title:"河粉選擇",description:"選擇清湯河粉"},{icon:"mdi-scale-balance",title:"清淡口味",description:"越式料理相對清淡"}],蔬食料理:[{icon:"mdi-leaf",title:"纖維豐富",description:"富含膳食纖維助消化"},{icon:"mdi-food-apple",title:"維生素多",description:"多種維生素和礦物質"},{icon:"mdi-scale-balance",title:"注意調味",description:"避免過多調味料"}],飲料店:[{icon:"mdi-cup-water",title:"選擇無糖",description:"避免過多糖分攝取"},{icon:"mdi-food-apple",title:"選擇茶類",description:"茶類飲料較健康"},{icon:"mdi-scale-balance",title:"控制份量",description:"飲料熱量不容忽視"}],早餐店:[{icon:"mdi-coffee",title:"均衡搭配",description:"選擇蛋白質和纖維"},{icon:"mdi-food-apple",title:"全穀類選擇",description:"選擇全麥麵包或燕麥"},{icon:"mdi-scale-balance",title:"適量食用",description:"早餐份量要適中"}],甜點店:[{icon:"mdi-cake-variant",title:"適量食用",description:"甜點熱量較高"},{icon:"mdi-food-apple",title:"選擇水果",description:"水果是較健康的甜點"},{icon:"mdi-scale-balance",title:"控制份量",description:"避免過多甜食"}],火鍋店:[{icon:"mdi-pot-steam",title:"選擇清湯",description:"避免重口味湯底"},{icon:"mdi-food-apple",title:"多搭配蔬菜",description:"增加纖維攝取"},{icon:"mdi-scale-balance",title:"控制肉類",description:"避免過多加工食品"}],燒烤店:[{icon:"mdi-fire",title:"選擇瘦肉",description:"避免過多油脂"},{icon:"mdi-food-apple",title:"搭配蔬菜",description:"增加纖維攝取"},{icon:"mdi-scale-balance",title:"控制調味",description:"避免過多調味料"}],麵食店:[{icon:"mdi-food-fork-drink",title:"選擇清湯",description:"避免重口味湯底"},{icon:"mdi-food-apple",title:"搭配蔬菜",description:"增加營養均衡"},{icon:"mdi-scale-balance",title:"控制份量",description:"麵食熱量較高"}],飯食店:[{icon:"mdi-food-rice",title:"選擇糙米",description:"糙米營養更豐富"},{icon:"mdi-food-apple",title:"搭配蔬菜",description:"增加纖維攝取"},{icon:"mdi-scale-balance",title:"控制份量",description:"米飯熱量較高"}]}[e]||[{icon:"mdi-food-apple",title:"均衡飲食",description:"選擇多樣化的食物"},{icon:"mdi-scale-balance",title:"控制份量",description:"注意熱量攝取"},{icon:"mdi-water",title:"多喝水",description:"保持身體水分"}]};return(e,t)=>(p(),R(B,{class:"restaurant-card d-flex flex-column",elevation:"4",rounded:"lg",onClick:m},{default:n(()=>[l("div",ce,[i(Y,{class:"rounded-t-lg",cover:"",height:"200",src:Re}),l("div",re,[i(S,{color:"white",icon:"mdi-heart",size:"small",style:{background:"rgba(0,0,0,0.3)","backdrop-filter":"blur(4px)"},variant:"text",onClick:P(h,["stop"])})])]),i(A,{class:"pa-5 flex-grow-1 d-flex flex-column"},{default:n(()=>[l("h3",ue,c(d.name),1),l("div",me,[i(r,{class:"mr-2 flex-shrink-0",color:"primary",icon:"mdi-map-marker",size:"small"}),l("span",pe,c(d.address),1)]),d.phone?(p(),b("div",fe,[i(r,{class:"mr-2 flex-shrink-0",color:"primary",icon:"mdi-phone",size:"small"}),l("span",ve,c(d.phone),1)])):_("",!0),d.mobile?(p(),b("div",ge,[i(r,{class:"mr-2 flex-shrink-0",color:"primary",icon:"mdi-cellphone",size:"small"}),l("span",ye,c(d.mobile),1)])):_("",!0),l("div",be,[i(r,{class:"mr-2 flex-shrink-0",color:"primary",icon:"mdi-city",size:"small"}),l("span",xe,c(d.city),1)])]),_:1}),i(I,{class:"pa-4 pt-0 mt-auto"},{default:n(()=>[i(S,{class:"font-weight-medium flex-1",color:"primary",rounded:"lg",style:{"min-width":"160px"},variant:"elevated",onClick:P(k,["stop"])},{default:n(()=>[i(r,{class:"mr-2",icon:"mdi-map-marker"}),t[5]||(t[5]=u(" 詳情 "))]),_:1,__:[5]}),i(S,{class:"font-weight-medium flex-1",color:"success",rounded:"lg",style:{"min-width":"160px"},variant:"outlined",onClick:t[0]||(t[0]=P(y=>g.value=!0,["stop"]))},{default:n(()=>[i(r,{class:"mr-2",icon:"mdi-food-apple"}),t[6]||(t[6]=u(" 營養提示 "))]),_:1,__:[6]})]),_:1}),i(F,{modelValue:f.value,"onUpdate:modelValue":t[2]||(t[2]=y=>f.value=y),"max-width":"600",persistent:""},{default:n(()=>[i(B,{class:"rounded-lg"},{default:n(()=>[i(D,{class:"text-h5 font-weight-semibold text-grey-darken-1 pa-6 pb-0"},{default:n(()=>[i(r,{class:"mr-3",color:"primary",icon:"mdi-food"}),u(" "+c(d.name),1)]),_:1}),i(A,{class:"pa-6"},{default:n(()=>[l("div",he,[i(r,{class:"mr-3 mt-1",color:"primary",icon:"mdi-map-marker"}),l("div",ke,[t[7]||(t[7]=l("strong",null,"地址：",-1)),u(c(d.address),1)])]),d.phone?(p(),b("div",we,[i(r,{class:"mr-3 mt-1",color:"primary",icon:"mdi-phone"}),l("div",_e,[t[8]||(t[8]=l("strong",null,"電話：",-1)),u(c(d.phone),1)])])):_("",!0),d.mobile?(p(),b("div",Ve,[i(r,{class:"mr-3 mt-1",color:"primary",icon:"mdi-cellphone"}),l("div",Ce,[t[9]||(t[9]=l("strong",null,"手機：",-1)),u(c(d.mobile),1)])])):_("",!0),l("div",$e,[i(r,{class:"mr-3 mt-1",color:"primary",icon:"mdi-city"}),l("div",Se,[t[10]||(t[10]=l("strong",null,"縣市：",-1)),u(c(d.city),1)])]),d.latitude&&d.longitude?(p(),b("div",Ne,[i(r,{class:"mr-3 mt-1",color:"primary",icon:"mdi-crosshairs-gps"}),l("div",Te,[t[11]||(t[11]=l("strong",null,"座標：",-1)),u(c(d.latitude)+", "+c(d.longitude),1)])])):_("",!0)]),_:1}),i(I,{class:"pa-6 pt-0 justify-center"},{default:n(()=>[i(S,{color:"primary",rounded:"lg",variant:"elevated",onClick:t[1]||(t[1]=y=>f.value=!1)},{default:n(()=>t[12]||(t[12]=[u(" 關閉 ")])),_:1,__:[12]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),i(F,{modelValue:g.value,"onUpdate:modelValue":t[4]||(t[4]=y=>g.value=y),"max-width":"500",persistent:""},{default:n(()=>[i(B,{class:"rounded-lg"},{default:n(()=>[i(D,{class:"text-h5 font-weight-semibold text-success pa-6 pb-0"},{default:n(()=>[i(r,{class:"mr-3",icon:"mdi-food-apple"}),u(" "+c(d.name)+" - 營養提示 ",1)]),_:1}),i(A,{class:"pa-6"},{default:n(()=>[i(j,{class:"mb-4",type:z(),variant:"tonal"},{prepend:n(()=>[i(r,{icon:$()},null,8,["icon"])]),default:n(()=>[t[13]||(t[13]=l("strong",null,"檢測到的類型：",-1)),u(c(w()),1)]),_:1,__:[13]},8,["type"]),i(j,{class:"mb-4",type:"info",variant:"tonal"},{prepend:n(()=>[i(r,{icon:"mdi-lightbulb"})]),default:n(()=>[u(" "+c(C()),1)]),_:1}),i(ie,{class:"bg-transparent"},{default:n(()=>[i(te,{class:"text-success font-weight-semibold"},{default:n(()=>t[14]||(t[14]=[u(" 健康飲食建議 ")])),_:1,__:[14]}),(p(!0),b(M,null,U(N(),(y,T)=>(p(),R(le,{key:T,class:"mb-2","prepend-icon":y.icon,subtitle:y.description,title:y.title},null,8,["prepend-icon","subtitle","title"]))),128))]),_:1})]),_:1}),i(I,{class:"pa-6 pt-0 justify-center"},{default:n(()=>[i(S,{color:"success",rounded:"lg",variant:"elevated",onClick:t[3]||(t[3]=y=>g.value=!1)},{default:n(()=>t[15]||(t[15]=[u(" 了解 ")])),_:1,__:[15]})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}},Pe=ee(ze,[["__scopeId","data-v-fe20f3a0"]]),Ae={class:"text-center pa-12"},Ie={class:"mx-auto",style:{"max-width":"500px"}},Be={class:"d-flex flex-wrap gap-3"},Ee={key:0,class:"text-center pa-15"},Le={class:"mt-4 text-body-1 text-grey"},Me={key:1},Ue={class:"mb-6"},je={class:"font-weight-semibold"},Fe={class:"text-body-1 text-grey font-weight-regular"},De={key:2,class:"d-flex justify-center mt-10"},L=12,Ge={__name:"restaurant",setup(d){const v=H(),f=x([]),g=x(!1),h=x(""),m=x(""),k=x(1),w=x(null),C=x(null),z=[{label:"全部餐廳",value:"",icon:"mdi-food"},{label:"台北市",value:"臺北市",icon:"mdi-city"},{label:"新北市",value:"新北市",icon:"mdi-city"},{label:"桃園市",value:"桃園市",icon:"mdi-city"},{label:"台中市",value:"臺中市",icon:"mdi-city"},{label:"台南市",value:"臺南市",icon:"mdi-city"},{label:"高雄市",value:"高雄市",icon:"mdi-city"},{label:"基隆市",value:"基隆市",icon:"mdi-city"},{label:"金門縣",value:"金門縣",icon:"mdi-city"},{label:"宜蘭縣",value:"宜蘭縣",icon:"mdi-city"},{label:"新竹縣",value:"新竹縣",icon:"mdi-city"},{label:"新竹市",value:"新竹市",icon:"mdi-city"},{label:"苗栗縣",value:"苗栗縣",icon:"mdi-city"},{label:"彰化縣",value:"彰化縣",icon:"mdi-city"},{label:"南投縣",value:"南投縣",icon:"mdi-city"},{label:"雲林縣",value:"雲林縣",icon:"mdi-city"},{label:"嘉義縣",value:"嘉義縣",icon:"mdi-city"},{label:"嘉義市",value:"嘉義市",icon:"mdi-city"},{label:"屏東縣",value:"屏東縣",icon:"mdi-city"},{label:"花蓮縣",value:"花蓮縣",icon:"mdi-city"},{label:"台東縣",value:"台東縣",icon:"mdi-city"},{label:"澎湖縣",value:"澎湖縣",icon:"mdi-city"},{label:"連江縣",value:"連江縣",icon:"mdi-city"}],$=E(()=>{let o=f.value;return m.value&&(o=o.filter(s=>{const a=s.city||s.縣市||"";return a.includes(m.value)||m.value.includes(a)})),h.value&&(o=o.filter(s=>(s.name||s.名稱||"").toLowerCase().includes(h.value.toLowerCase()))),o}),N=E(()=>Math.ceil($.value.length/L)),e=E(()=>{const o=(k.value-1)*L,s=o+L;return $.value.slice(o,s)}),t=()=>{Z(()=>{C.value&&C.value.scrollIntoView({behavior:"smooth",block:"start"})})},y=async o=>{if(m.value!==o&&(m.value=o,k.value=1,t(),!(f.value.length>0)))try{await(o===""?T():O(o))}catch(s){console.error("Error selecting category:",s)}},T=async()=>{g.value=!0;try{const{data:o}=await G.get();f.value=o.restaurants||o||[],Array.isArray(f.value)||(f.value=[])}catch(o){console.error("Error fetching restaurants:",o),f.value=[],v({text:"無法載入餐廳資料",snackbarProps:{color:"red"}})}finally{g.value=!1}},O=async o=>{var s,a;g.value=!0;try{const{data:V}=await G.getByCity(o);f.value=V.restaurants||V||[],Array.isArray(f.value)||(f.value=[])}catch(V){console.error("Error fetching restaurants by city:",V),f.value=[];const Q=((a=(s=V.response)==null?void 0:s.data)==null?void 0:a.message)||"無法載入餐廳資料";v({text:Q,snackbarProps:{color:"red"}})}finally{g.value=!1}};return J(h,()=>{k.value=1}),T(),(o,s)=>(p(),b("div",null,[l("div",Ae,[l("div",null,[s[2]||(s[2]=l("h1",{class:"text-h2 font-weight-bold mb-4 text-shadow mt-2"},"探索美食天地",-1)),s[3]||(s[3]=l("p",{class:"text-h5 mb-10 opacity-90"},"發現您附近最棒的餐廳",-1)),l("div",Ie,[i(K,{modelValue:h.value,"onUpdate:modelValue":s[0]||(s[0]=a=>h.value=a),class:"rounded-lg","hide-details":"",placeholder:"搜尋餐廳名稱...","prepend-inner-icon":"mdi-magnify",rounded:"lg",variant:"outlined"},null,8,["modelValue"])])])]),i(ae,{class:"rounded-t-xl mt-n5 pa-10",style:{"min-height":"calc(100vh - 300px)"}},{default:n(()=>[l("div",{ref_key:"categorySection",ref:C,class:"mb-10 sticky-top"},[s[4]||(s[4]=l("h1",{class:"font-weight-semibold mb-2"},"選擇地區",-1)),l("div",Be,[(p(),b(M,null,U(z,a=>i(ne,{key:a.value,class:"font-weight-medium transition-all hover-lift mt-2 mr-3",color:m.value===a.value?"primary":"default",loading:g.value&&m.value===a.value,size:"large",variant:m.value===a.value?"elevated":"outlined",onClick:V=>y(a.value)},{default:n(()=>[i(r,{class:"mr-2",icon:a.icon},null,8,["icon"]),u(" "+c(a.label),1)]),_:2},1032,["color","loading","variant","onClick"])),64))])],512),l("div",{ref_key:"restaurantSection",ref:w,class:"mb-10"},[g.value?(p(),b("div",Ee,[i(W,{color:"primary",indeterminate:"",size:"64"}),l("p",Le,c(m.value?`正在載入${m.value}餐廳資料...`:"正在載入餐廳資料..."),1)])):(p(),b("div",Me,[l("div",Ue,[l("h1",je,[u(c(m.value?`${m.value}餐廳`:"全部餐廳")+" ",1),l("span",Fe,"("+c($.value.length)+" 間)",1)])]),i(se,null,{default:n(()=>[(p(!0),b(M,null,U(e.value,a=>(p(),R(de,{key:a.restid,cols:"12",lg:"4",sm:"6",xl:"3"},{default:n(()=>[i(Pe,X({ref_for:!0},a),null,16)]),_:2},1024))),128))]),_:1}),e.value.length===0?(p(),R(j,{key:0,class:"mt-10 text-center",type:"info",variant:"tonal"},{prepend:n(()=>[i(r,{icon:"mdi-food-fork-drink"})]),default:n(()=>[u(" "+c(m.value?`目前沒有${m.value}的餐廳資料`:"目前沒有餐廳資料"),1)]),_:1})):_("",!0)])),N.value>1&&!g.value?(p(),b("div",De,[i(oe,{modelValue:k.value,"onUpdate:modelValue":s[1]||(s[1]=a=>k.value=a),length:N.value,rounded:"circle","total-visible":7},null,8,["modelValue","length"])])):_("",!0)],512)]),_:1})]))}};typeof q=="function"&&q(Ge);export{Ge as default};
