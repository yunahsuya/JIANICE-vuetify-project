import{P as _,r as y,c as k,o as l,w as t,d as r,e as i,l as n,F as V,n as g,t as d}from"./index-KC8Fu95-.js";import{o as b}from"./order--R5NeNGt.js";import{b as u}from"./route-block-B_A1xBdJ.js";import{V as v,a as m}from"./VRow-Js2kYVxX.js";import{V as h}from"./VDivider-CgzjqxB6.js";import{V as w}from"./VDataTable-Di4asx99.js";import{V as x}from"./VContainer-C62bWApN.js";import"./VPagination-FJlCxQ8A.js";import"./VSelect-CxcFQ9up.js";import"./VList-DJyRj5q_.js";import"./ssrBoot-CCrmWCSd.js";import"./VMenu-B01AtdRN.js";import"./VChip-PMzwQLBL.js";const D={__name:"orders",setup(B){const p=_(),c=y([]),f=[{title:"ID",key:"_id"},{title:"日期",key:"createdAt",value:e=>new Date(e.createdAt).toLocaleString()},{title:"商品",key:"cart",sortable:!1},{title:"總金額",key:"totalPrice",value:e=>e.cart.reduce((a,o)=>a+o.product.price*o.quantity,0)}];return(async()=>{try{const{data:e}=await b.getMy();c.value=e.result}catch(e){console.error("Error fetching orders:",e),p({text:"無法載入訂單資料",snackbarProps:{color:"red"}})}})(),(e,a)=>(l(),k(x,null,{default:t(()=>[r(v,null,{default:t(()=>[r(m,{cols:"12"},{default:t(()=>a[0]||(a[0]=[i("h1",{class:"text-center"},"訂單",-1)])),_:1,__:[0]}),r(h),r(m,{cols:"12"},{default:t(()=>[r(w,{headers:f,items:c.value},{"item.cart":t(({value:o})=>[i("ul",null,[(l(!0),n(V,null,g(o,s=>(l(),n("li",{key:s._id},d(s.product.name)+" - "+d(s.quantity)+" 件 ",1))),128))])]),_:2},1032,["items"])]),_:1})]),_:1})]),_:1}))}};typeof u=="function"&&u(D);export{D as default};
